<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>1984-08-06 - The C Compiler</title>
        <meta name="description" content="A draft day/chapter for a book that'll never exist.">
        <meta name="author" content="K Lars Lohn">
        <meta name="robots" content="noindex">
        <link rel="stylesheet" href="../gf4ulgcxmm/style.css" />
    </head>
    <body>
        <img class="header-image" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgNHh9zpOEjstchd1GBZeoJJ0SI5nLAbszSDuADim5IFr3xVZrH6d7e4pR4RcThwoShHa9Q_bRn9tPCkSXAXWhF0CccX6eDjKn1o7yCYhaX6vkonNBzZNW-kj_RIZxA7gVgNv2sZSOKCy1ibaqE-Z1vK1WMh_m3-6wNdYpznlgOsj-GXuZeddHdDw/s1600/teeples.png"/>
        
        <div class="top-bar">
            <div class="title"><a href="https://twobraids.com">twobraids</a></div>
        </div>
    
        <div class="content">
            <h1>1984-08-06 - The C Compiler</h1>
    
        
            <div class="lars-nav-section">
                <div class="lars-nav-newer">
                    <a href="e5j7cdmf25.html#top">&#9668; Story Arc Backward</a><br />
                </div>
                <div class="lars-nav-center">
                    <a href="tytd0s3amy.html">Going to the Sun - Contents</a>
                </div>
                <div class="lars-nav-older">
                    <a href="s3i4cr03mm.html#top">Story Arc Forward &#9658;</a><br />
                </div>
            </div>
            
            <p>&nbsp;</p>
            
            <div class="lars-inner-box">
                <p class="orange"><strong>Rough Draft</strong><br /></p>
                  <p><strong>Author's Note:</strong></p>
                  <p>In Development</p>
                  <p>Original Post: 2025-09-14 16:32:16-07:00<br />
                  Latest Update: 2025-12-01 15:16:04-08:00</i></p>
                  <p>The <i>clickable</i> symbol <b><span id="Ustart" class=orange>&#x25CF;</span></b> indicates an <br />
                  updated paragraph within the last 10 days.<br />
                  The darker the symbol, the older the update.</p>
 
            </div>
                  
            <h2 id="Sarah'sOffice">Sarah's Office</h2>
<p>"Sarah, I know you keep the paper records of your, uh, girls and me up at the house. I see you've put them on the hard drive. Anyone could get them on the computer."</p>
<p><b><span id="U0002" style="color: #e99500;">&#x25CF;</span></b>She kept her deadpan face.</p>
<p><b><span id="U0003" style="color: #e99500;">&#x25CF;</span></b>I shook my head. "Ok, I'll back off. Just know, if they are what I think they are, you need to keep them off the computer's hard drive. Put them on floppies so you can secure them."</p>
<p><b><span id="U0004" style="color: #e99500;">&#x25CF;</span></b>Her heavy sigh surprised me.</p>
<p><b><span id="U0005" style="color: #e99500;">&#x25CF;</span></b>"I'm trying to not have to rely on the safe."</p>
<p><b><span id="U0006" style="color: #e99500;">&#x25CF;</span></b>"I don't know any tools on PCs that will encrpyt your files, but its possible."</p>
<p><b><span id="U0007" style="color: #e99500;">&#x25CF;</span></b>"Encrypt?"</p>
<p><b><span id="U0008" style="color: #e99500;">&#x25CF;</span></b>"Turn it into a secret code that only you can unlock."</p>
<p><b><span id="U0009" style="color: #e99500;">&#x25CF;</span></b>"You can do that?"</p>
<p>I thought for a few moments, "...yes. There's a couple ways it could be done. I'd have to study it." I froze in deep thought, falling down the structure of the problem. "There's two parts, hiding and obfuscating. Seems like two separate things."</p>
<p>Pulled myself self out my mind—back with Sarah. "Hiding is just keeping something out of sight, like your safe. Obfuscating is making sure only you can read it once its out of the safe. It's a cypher, a secret code."</p>
<p>I frowned. "You'd have to decipher it so that Peachtree could read it."  I looked up to the ceiling, falling silent again. "Yeah, then you'd have to re-cypher it. Suspicious to have an unreadable file on a hard drive. A floppy, though. Pretends to be  defective..."</p>
<p>"Jesus, Karl. I grew up in a carnival and you're one of the weirdest people I ever met."</p>
<p>"I gonna have to study. I got a new book back at my cabin, 'MS-DOS Programmer’s Reference'.  I'll be back on Friday."</p>
<h2 id="1984-08-10-TheIronHorse">1984-08-10 - The Iron Horse</h2>
<p><b><span id="U0016" style="color: #c57a00;">&#x25CF;</span></b>"I can do it." I dropped a paper diagram on Sarah's desk."</p>
<p><b><span id="U0017" style="color: #c57a00;">&#x25CF;</span></b>She looked up at me in confusion. "...uh, what's this?"</p>
<p><b><span id="U0018" style="color: #c57a00;">&#x25CF;</span></b>"It's a design to make the data on your PeachTree data disk only readable by you. You use another floppy disk as a key first. If you don't use the key disk, the computer'll think its a bad disk. It can't read it. When you do use the key, you can read the data fine until you reboot or turn the computer off."</p>
<p><b><span id="U0019" style="color: #c57a00;">&#x25CF;</span></b>"You can make do that?" She looked skeptical.</p>
<p><b><span id="U0020" style="color: #d78700;">&#x25CF;</span></b>I dropped the sheaf of paper on top of the design, forty pages of hand written C and Assembly code in the tiniest print I could write. "I think it'll work. I just need to try it. I need a compiler, an editor, and the time to type this in. to work on it."</p>
<p><b><span id="U0021" style="color: #c57a00;">&#x25CF;</span></b>"How does it work?"</p>
<p><b><span id="U0022" style="color: #c57a00;">&#x25CF;</span></b>I smiled, excited to reveal the secret. "The key is hooking the INT13 interrupt. I can make the floppy drive do whatever I want. It it's a TSR, Terminate and Stay Resident. Peachtree wont't even know its writing to the disk in a crazy way."</p>
<p><b><span id="U0023" style="color: #c57a00;">&#x25CF;</span></b>She started paging through the sheets of paper. Looking closely at the code on several pages, before looking back at me. "I don't get it. What is this?"</p>
<p>"It's all the C and assembler code to make an executable file. I've studied how to write software for MS-DOS. I know I can make it work. I just need to get my hands on a computer."</p>
<p>"Can't you guys around computers ever talk English?" She looked both confused and concerned. "How much will it cost to get what you need?"</p>
<p>"I need the Lattice C compiler and access to one of these computers for a few days. I can order it. There's an ad in the back of Dr. Dobbs. Uh, its a magazine about computers. The compiler cost about $300 plus shipping. I'm gonna need a couple boxes of high density floppies."</p>
            
            <div class="lars-nav-section">
                <div class="lars-nav-newer">
                    <a href="e5j7cdmf25.html#top">&#9668; Story Arc Backward</a><br />
                </div>
                <div class="lars-nav-center">
                    <a href="tytd0s3amy.html">Going to the Sun - Contents</a>
                </div>
                <div class="lars-nav-older">
                    <a href="s3i4cr03mm.html#top">Story Arc Forward &#9658;</a><br />
                </div>
            </div>
            
            <div class="lars-inner-box">
              <p>This is a work of fiction based on experiences from my life.</p>
              <p>©2025 by K Lars Lohn All rights reserved</p>
              <iframe src="https://www.twobraids.com/p/6yfyg2tlkmzq5b1o8aoi.html" width="1" height="1" style="border:0; visibility:hidden;"></iframe>
            </div>
            
        </div>
<script>
/**
    * Fluid Scrolling for Edited Paragraphs
    *
    * This script enables smooth scrolling between elements with specific IDs
    * ('Ustart', 'U0001', etc.), triggered by single or double clicks.
    * VERSION 3: A robust fix for single and double-click logic.
    */
document.addEventListener('DOMContentLoaded', () => {

    // ========== CONFIGURATION ==========
    const config = {
        // Duration of the scroll animation in milliseconds.
        scrollDuration: 800,

                                               // Easing function for the animation (easeInOutCubic).
        easing: t => t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1,

        // For the 'Ustart' dot: how many lines from the top to position the first dot.
        startDotOffsetLines: 3,

                                                                                   // Your site's line-height. Used to calculate the pixel offset above.
        lineHeight: 1.5,

        // Milliseconds to wait to see if a single click is actually a double-click.
        doubleClickDelay: 250,
                                                                              };
    // ===================================


    const startDot = document.getElementById('Ustart');
    const paragraphDots = Array.from(document.querySelectorAll('span[id^="U0"]'))
    .sort((a, b) => a.id.localeCompare(b.id));

                                if (paragraphDots.length === 0) {
        if (startDot) startDot.style.display = 'none';
    return;
    }

    let isScrolling = false;

    function smoothScrollTo(targetY) {
        if (isScrolling) return;

        const startY = window.scrollY;
        const distance = targetY - startY;
        let startTime = null;
        isScrolling = true;

        function animation(currentTime) {
            if (startTime === null) startTime = currentTime;
            const timeElapsed = currentTime - startTime;
            const progress = Math.min(timeElapsed / config.scrollDuration, 1);
            const easedProgress = config.easing(progress);

            window.scrollTo(0, startY + distance * easedProgress);

            if (timeElapsed < config.scrollDuration) {
                requestAnimationFrame(animation);
                } else {
                isScrolling = false;
            }
        }
        requestAnimationFrame(animation);
    }

    function scrollToDot(clickedDot, targetDot) {
        let targetY;
        if (clickedDot.id === 'Ustart') {
            const bodyFontSize = parseFloat(getComputedStyle(document.body).fontSize);
            const offset = config.startDotOffsetLines * config.lineHeight * bodyFontSize;
            targetY = targetDot.getBoundingClientRect().top + window.scrollY - offset;
            } else {
            const startPosTop = clickedDot.getBoundingClientRect().top;
            const targetPosTop = targetDot.getBoundingClientRect().top;
            const scrollDistance = targetPosTop - startPosTop;
            targetY = window.scrollY + scrollDistance;
        }
        smoothScrollTo(targetY);
    }

    function navigateForward(clickedDot) {
        let targetDot;
        if (clickedDot.id === 'Ustart') {
            targetDot = paragraphDots[0];
            } else {
            const currentIndex = paragraphDots.indexOf(clickedDot);
            const nextIndex = (currentIndex + 1) % paragraphDots.length;
            targetDot = paragraphDots[nextIndex];
        }
        scrollToDot(clickedDot, targetDot);
    }

    function navigateBackward(clickedDot) {
        const totalDots = paragraphDots.length;
        let targetDot;
        if (clickedDot.id === 'Ustart') {
            targetDot = paragraphDots[totalDots - 1];
            } else {
            const currentIndex = paragraphDots.indexOf(clickedDot);
            const prevIndex = ((currentIndex - 1) % totalDots + totalDots) % totalDots;
            targetDot = paragraphDots[prevIndex];
        }
        scrollToDot(clickedDot, targetDot);
    }

    let clickTimer = null;
    const allDots = [startDot, ...paragraphDots].filter(Boolean);

    allDots.forEach(dot => {
        dot.addEventListener('click', (event) => {
            const clickedDot = event.currentTarget;

            // If this is the first click (no timer is running)
            if (clickTimer === null) {
                clickTimer = setTimeout(() => {
                    // Timer expired, so it was a single click.
                    clickTimer = null; // Reset for the next click
                    navigateForward(clickedDot);
                    }, config.doubleClickDelay);
                } else {
                // A timer is already running, so this is a double click.
                clearTimeout(clickTimer); // Cancel the pending single-click action
                clickTimer = null; // Reset for the next click
                event.preventDefault(); // Stop text selection
                navigateBackward(clickedDot);
            }
            });
        });
});


</script>

    </body>

</html>