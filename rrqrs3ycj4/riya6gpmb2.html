<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>1984-12-31 - New Years at the Horse</title>
        <meta name="description" content="A chapter for a book that'll never exist.">
        <meta name="author" content="K Lars Lohn">
        <meta name="robots" content="noindex">
        <link rel="stylesheet" href="../gf4ulgcxmm/style.css" />
    </head>
    <body>
        <img class="header-image" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhz-_-xY83xHIQA7sf3HX1uqgMwouQIgF5l1l8WwZV6n1-mQgBxoaWFfWjdj8KELI9yyNb9GGlb5bb7dfUt3-xAJHSCvmMfNp3VvT8N_b0tUVz1T4TE9o36O7dbKZ8cust1SJKa_JXtttgHjoKra2jtFBuifAgCYUiMk7l4O8zzPAkmtSe3o42iTg/s1600/dead-of-winter.png"/>
        
        <div class="top-bar">
            <div class="title"><a href="https://twobraids.com">twobraids</a></div>
        </div>
    
        <div class="content">
            <h1>1984-12-31 - New Years at the Horse</h1>
    
        
            <div class="lars-nav-section">
                <div class="lars-nav-newer">
                    <a href="wqhuzu3x2h.html#top">&#9668; Story Arc Backward</a><br />
                </div>
                <div class="lars-nav-center">
                    <a href="tytd0s3amy.html">Going to the Sun - Contents</a>
                </div>
                <div class="lars-nav-older">
                    <a href="h05vtuvmko.html#top">Story Arc Forward &#9658;</a><br />
                </div>
            </div>
            
            <p>&nbsp;</p>
            
            <div class="lars-inner-box">
                  <p><strong>Author's Note:</strong></p>
                  <p>This is a placeholder.<br />Nothing written yet.</p>
                  <p>Original Post: 2025-06-07 17:54:41-07:00<br />
                  Latest Update: 2025-06-07 17:54:41-07:00</i></p>
                  <p class="green"><a href="h05vtuvmko.html#top">Skip to the next chapter &#9658;</a></p>
 
            </div>
                  
            <h2 id="TheIronHorse">The Iron Horse</h2>
            
            
            <div class="lars-inner-box">
              <p>This is a work of fiction based on experiences from my life.</p>
              <p>Â©2025 by K Lars Lohn All rights reserved</p>
              <iframe src="https://www.twobraids.com/p/chapter.html" width="1" height="1" style="border:0; visibility:hidden;"></iframe>
            </div>
            
        </div>
<script>
    // --- CONFIGURATION ---
    // You can adjust these values to change the scrolling behavior.
    const CONFIG = {
      // The unique ID for the introductory dot.
    headerDotId: 'Ustart',
                                          // Scroll animation duration in milliseconds.
    scrollDuration: 800,
                                    // Time in milliseconds to hold for a long press (reverse scroll).
    longPressDelay: 500,
                                               // The final position for the first dot, in pixels from the top of the window.
    // This is used only when clicking the introductory dot.
    topOffsetPixels: 100,
                                                        };

    document.addEventListener('DOMContentLoaded', () => {
      // --- ELEMENT DISCOVERY ---
    const headerDot = document.getElementById(CONFIG.headerDotId);
    // Select all spans whose ID starts with "U" (numeric content dots).
    const contentDots = Array.from(document.querySelectorAll('span[id^="U"]')).sort((a, b) => {
        // Sort numerically to ensure correct order, just in case.
      const numA = parseInt(a.id.substring(1), 10);
      const numB = parseInt(b.id.substring(1), 10);
        return numA - numB;
        });

        if (!contentDots.length) return; // Exit if no content dots are found.

        // Combine header and content dots for attaching events.
        const allDots = headerDot ? [headerDot, ...contentDots] : [...contentDots];

        // --- CORE SCROLLING FUNCTION ---
        /**
            * Animate scroll to a target element.
            * @param {HTMLElement} targetElement The element to scroll to.
            * @param {number} finalPosition The target vertical position in the viewport for the element.
            */
        const smoothScrollTo = (targetElement, finalPosition) => {
        const startY = window.scrollY;
      const targetY = targetElement.getBoundingClientRect().top + startY - finalPosition;
      const distance = targetY - startY;
      let startTime = null;

      // Easing function for acceleration/deceleration effect.
      const easeInOutQuad = (t, b, c, d) => {
          t /= d / 2;
        if (t < 1) return c / 2 * t * t + b;
        t--;
            return -c / 2 * (t * (t - 2) - 1) + b;
            };

            const animation = (currentTime) => {
          if (startTime === null) startTime = currentTime;
        const timeElapsed = currentTime - startTime;
        const run = easeInOutQuad(timeElapsed, startY, distance, CONFIG.scrollDuration);
        window.scrollTo(0, run);
        if (timeElapsed < CONFIG.scrollDuration) {
            requestAnimationFrame(animation);
        }
        };

            requestAnimationFrame(animation);
        };

        // --- EVENT HANDLING LOGIC ---
        allDots.forEach(dot => {
        let pressTimer = null;
      let isLongPress = false;

      const handlePress = (e) => {
          // Prevent default browser actions (like text selection on long press).
        e.preventDefault();

        isLongPress = false;
        pressTimer = setTimeout(() => {
            isLongPress = true;
          // LONG PRESS: Scroll backwards.
          const currentDotIndex = contentDots.indexOf(dot);
          const isHeader = (dot.id === CONFIG.headerDotId);

          let targetDot;
          if (isHeader || currentDotIndex === 0) {
              // Header dot or first content dot goes to the last content dot.
            targetDot = contentDots[contentDots.length - 1];
            } else {
              // Go to the previous content dot.
            targetDot = contentDots[currentDotIndex - 1];
          }

          const clickPosition = dot.getBoundingClientRect().top;
          smoothScrollTo(targetDot, clickPosition);

          }, CONFIG.longPressDelay);
        };

      const handleRelease = (e) => {
          clearTimeout(pressTimer);
        // If it was a short press, handle the forward scroll.
        if (!isLongPress) {
            // SHORT PRESS / TAP: Scroll forwards.
          const currentDotIndex = contentDots.indexOf(dot);
          const isHeader = (dot.id === CONFIG.headerDotId);

          let targetDot;
          if (isHeader) {
              // Header dot always goes to the first content dot.
             targetDot = contentDots[0];
             } else if (currentDotIndex === contentDots.length - 1) {
              // Last content dot loops back to the first content dot.
            targetDot = contentDots[0];
            } else {
              // Go to the next content dot.
            targetDot = contentDots[currentDotIndex + 1];
          }

          // Determine the final scroll position.
          const finalPosition = isHeader 
          ? CONFIG.topOffsetPixels 
            : dot.getBoundingClientRect().top;

            smoothScrollTo(targetDot, finalPosition);
        }
        };

      // Assign events for both mouse and touch devices.
      dot.addEventListener('mousedown', handlePress);
      dot.addEventListener('mouseup', handleRelease);
      dot.addEventListener('mouseleave', () => clearTimeout(pressTimer)); // Cancel if mouse leaves

      dot.addEventListener('touchstart', handlePress, { passive: false });
      dot.addEventListener('touchend', handleRelease);
      dot.addEventListener('touchcancel', () => clearTimeout(pressTimer)); // Cancel on interruption
      });
    });
</script>

    </body>

<html>